export const productsArr = [];
export { fetch };

//a private variable for creating a test list with prices
export const _pPrices = [
    95.39, 1, 100, 1.65, 1.19, 39.08, 3.32, 69.51, 23.53, 11.85, 29.48, 73.5,
    4.38, 71.62, 17.47, 50.67, 80.24, 88.3, 77.66, 73.64, 93.41, 3.08, 52.2,
    56.51, 23.75, 21.65, 72.56, 27.87, 79.26, 29.31, 92.94, 57.92, 24.26, 11.73,
    38, 85.67, 15.05, 18.03, 1.65, 65.07, 42.64, 21.26, 14, 37.67, 53.37, 15.47,
    99.8, 43.97, 29.18, 38.21, 65.07, 5.59, 61.81, 22.72, 78.65, 45.9, 47.6,
    64.95, 9.57, 68.15, 62.96, 37.24, 50.53, 77.07, 54.4, 92.45, 81.41, 12.26,
    91.8, 80.56, 50.02, 60.08, 88.51, 42.75, 60.46, 24.13, 87.76, 57.56, 62.9,
    64.42, 51.47, 87.85, 32.93, 59.58, 64.2, 18.26, 13.56, 7.83, 83.14, 78.24,
    68.13, 58.15, 22.87, 17.68, 58.95, 55.4, 62.98, 39.31, 22.86, 90.31, 5.83,
    94.59, 62.5, 68.62, 92.09, 18.83, 9.82, 52.43, 2.56, 14.71, 47.32, 81.03,
    35.95, 93.62, 91.36, 48.72, 54.69, 49.23, 52.09, 2.61, 33.1, 68.77, 84.81,
    24.77, 26.04, 84.21, 38.71, 79.86, 99.64, 27.43, 90.88, 42.11, 30.48, 81.66,
    25.46, 63.39, 84.85, 14.59, 81.3, 8.14, 35.22, 37.95, 44.52, 60.13, 57.82,
    62.79, 7.16, 1.1, 82.06, 10.23, 47.62, 72.06, 30.24, 93.23, 14.13, 54.21,
    94.33, 6.68, 8.75, 48.28, 45.52, 50.26, 76.02, 88.8, 61.82, 61.16, 97.68,
    2.67, 89.08, 52.64, 83.02, 10.6, 21.61, 38.01, 23.08, 73.76, 1.2, 69.61,
    45.76, 8.76, 77.07, 37.74, 69.28, 28.98, 90.22, 55.09, 1.72, 22.08, 22.85,
    99.3, 75.15, 40.2, 97.38, 98.13, 35.29, 61.8, 68.32, 19.56, 29.27, 82.46,
    33.22, 72.91, 47.66, 5.52, 76.97, 35.77, 80.03, 32.9, 1.75, 96.42, 38.04,
    1.61, 64.57, 41.8, 84.48, 71.78, 89.37, 26.97, 82.46, 48.65, 23.45, 33.55,
    44.92, 12.64, 76.68, 61.9, 21.46, 39.23, 65.55, 4.65, 6.8, 13.46, 92.23,
    17.55, 93.07, 82.72, 1.85, 37.83, 17.05, 45.81, 23.25, 99.76, 72.3, 46.32,
    1.8, 62.77, 66.4, 23.98, 67.57, 98, 3.62, 78.94, 93.14, 76.19, 64.76, 20.92,
    63.65, 61.58, 37.56, 7.31, 15.91, 44.81, 23.22, 23.14, 52.85, 40.78, 7.97,
    18.77, 13.1, 36.89, 41.81, 1.33, 54.14, 1.49, 11.12, 70.29, 35.52, 53.08,
    26.55, 98.78, 56.06, 46.21, 73, 88, 7.57, 52.28, 84.86, 64.46, 56.35, 99.92,
    16.18, 46.83, 53.35, 93.2, 72.95, 82.82, 4.03, 43.75, 62.55, 44.7, 99.78,
    37.32, 94.2, 77.16, 24.14, 4.91, 33.25, 10.55, 99.24, 83.95, 72.25, 88.61,
    30.27, 35.86, 32.1, 10.98, 39.48, 33.13, 47.64, 57.57, 54.81, 41.04, 23.95,
    44.56, 33.03, 97.04, 71.85, 59.68, 52.17, 34.42, 44.13, 38.6, 4.16, 5.63,
    97.61, 73.18, 54.85, 35.87, 1.49, 87.69, 15.47, 77.14, 89.17, 79.69, 87.68,
    39.79, 54.22, 98.38, 2.14, 49.3, 1.51, 25.28, 70.07, 14.03, 90.86, 29.63,
    6.07, 91.82, 2.28, 93.85, 61.49, 12.38, 17.8, 43.41, 27.66, 45.95, 35.19,
    69.74, 30.26, 8.85, 49.65, 4.79, 37.87, 61.69, 48.84, 91.56, 50.61, 86.84,
    67.65, 96.19, 17.87, 28.6, 39.69, 24.1, 58.24, 41.57, 64.7, 35.05, 19.22,
    20.55, 83.09, 1.43, 19.39, 78.79, 12.07, 9.49, 61.82, 1.49, 51.14, 10.97,
    93.41, 18.13, 9.35, 71.34, 12.46, 55.65, 41.19, 41.63, 94.08, 34.18, 3.78,
    51.09, 11.4, 59.06, 63.92, 87.83, 79.67, 93.56, 90.45, 84.04, 39.6, 78,
    64.66, 96.54, 26.74, 71.17, 29.51, 62.35, 44.22, 75.1, 76.95, 13.07, 67.92,
    53.88, 42.01, 52.18, 64.89, 72.8, 32.06, 34.76, 98.65, 64.66, 70.28, 40.59,
    28.41, 76.92, 73.27, 98.4, 82.92, 65.68, 14.65, 1.51, 4.4, 79.92, 48.89,
    53.4, 13.21, 23.3, 82.41, 95.32, 39.47, 89.68, 82.71, 97.61, 4.61, 43.23,
    10.66, 41.4, 12.56, 54.44, 45.69, 77.78, 28.22, 9.19, 49.2, 28.25, 78.95,
    79.65, 77.88, 81.62, 13.93, 83.09, 14.83, 50.49, 95.58, 57.31, 34.27, 73.36,
    77.65, 50.06, 53.38, 87.22, 45.18, 53.72, 53.32, 49.86, 53.04, 16.45, 70.91,
    61.29, 1.9, 26.08, 72.27, 19.07, 32.88, 94.1, 20.16, 43.83, 5.89, 63.88,
    37.78, 28, 50.05, 28.95, 53.87, 93.51, 39.56, 75.65, 85.83, 91.94, 53.36,
    57.33, 81.06, 45.03, 22.86, 66.78, 89.83, 2.03, 58.14, 98.05, 87.77, 86.25,
    70.52, 79.19, 1.48, 13.08, 76.75, 13.53, 8.44, 88.45, 78.41, 88.44, 26.58,
    38.58, 59.17, 98.09, 59.41, 79.07, 31.96, 79.09, 30.24, 4.92, 98.49, 76.81,
    70.71, 71.58, 53.95, 43.96, 35.65, 41.65, 81.74, 22.84, 77.61, 91.75, 34.48,
    77.97, 74.96, 9.89, 90.81, 26.72, 58.2, 64.81, 10.43, 62.34, 20.31, 95.66,
    83.73, 75.63, 28.26, 53.05, 87.3, 59.78, 75.77, 20.33, 11.29, 25.93, 29.87,
    58.22, 20.72, 66.4, 27.86, 44.8, 49.2, 77.11, 75.03, 28.18, 1.42, 91.03,
    78.85, 69.77, 50.71, 80.47, 30.56, 32.32, 4.05, 57.73, 11.17, 58.69, 49.87,
    40.55, 55.77, 95.14, 13.68, 52.02, 57.31, 35.56, 70.52, 92.66, 29.04, 2.48,
    12.25, 56.76, 73.47, 34.45, 20.96, 64.7, 24.72, 19.87, 2.83, 48.18, 41.32,
    2.75, 79.62, 56.43, 26.76, 87.32, 18.07, 47.9, 46.28, 85, 1.5, 94.32, 90.24,
    80.25, 12.52, 51.54, 6.43, 39.39, 1.73, 45.41, 87.25, 50.78, 55.38, 79.73,
    50.65, 63.76, 89.14, 98.14, 98.41, 88.94, 66.24, 22.16, 70.09, 33.11, 76.07,
    43.48, 36.31, 68.21, 61.38, 70.3, 91.47, 75.63, 59.35, 14.55, 12.28, 64.96,
    3.25, 59.75, 46.37, 39.03, 62.63, 67.91, 82.79, 66.07, 70.69, 67.5, 35.07,
    24.35, 99.11, 14.74, 36.75, 4.26, 92.41, 35.32, 8.92, 88.99, 66.77, 35.12,
    10.16, 85.66, 11.46, 14.5, 20.03, 46.12, 5.06, 33.54, 39.28, 98.93, 73.02,
    52.93, 12.08, 12.17, 68.38, 19, 88.78, 20.52, 53.41, 70.25, 51.12, 79.63,
    96.08, 17.72, 16.18, 55.4, 72.56, 91.47, 20.19, 16.92, 84.42, 51.8, 58.8,
    77.78, 57.8, 35.14, 26.51, 22.33, 90.31, 41.95, 54.71, 61.33, 51.41, 76.55,
    95.19, 84.05, 21.96, 17.58, 33.86, 13.21, 79.42, 31.63, 48.17, 23.11, 96.67,
    42.31, 40.82, 51.48, 24.54, 32.5, 92.33, 21.35, 70.61, 88.3, 75.42, 90.27,
    70.42, 90.02, 65.46, 61.23, 70.82, 17.38, 62.6, 22.26, 10.12, 64.4, 14.1,
    29.5, 84.49, 52.42, 87.83, 12.79, 36.21, 89.28, 1.9, 61.67, 85.52, 46.9,
    59.43, 45.18, 55.1, 20.19, 72.42, 29.25, 3.57, 86.1, 84.08, 81.64, 93.24,
    2.98, 15.21, 96.69, 65.52, 78, 66.88, 29.17, 87.72, 82.92, 8.96, 99.98,
    64.55, 17.03, 72.28, 25.14, 78.79, 1.27, 40.5, 23.86, 36.84, 29.08, 7.23,
    81.62, 47.03, 42.95, 23.69, 79.59, 51.06, 30.73, 12.81, 53.34, 62.62, 51.96,
    66.66, 10.29, 40.56, 61.14, 75.78, 18.33, 39.3, 0.4, 61.67, 75.66, 33.51,
    69.55, 96.23, 86.08, 10.69, 91.65, 95.99, 93.25, 61.01, 66.82, 72.82, 72.29,
    71.41, 47.51, 7.99, 37.99, 48.18, 74.13, 91.8, 4.97, 50.74, 81.96, 37.01,
    27.12, 18.43, 26.93, 31.26, 51.2, 11.22, 81.21, 40.95, 42.44, 65.9, 17.57,
    16.8, 79.04, 89.9, 35.86, 80.46, 66.67, 76.14, 84.58, 90.08, 93.97, 24.81,
    95.7, 93.39, 36.15, 0.18, 82.03, 76.5, 14.44, 34.15, 43.03, 8.54, 36.6,
    12.04, 86.91, 63.36, 75.88, 40.8, 5.08, 72.32, 94.01, 4.7, 28.04, 24.84,
    77.71, 59.84, 51.3, 87.34, 37.54, 4.7, 44.38, 55.09, 12.69, 91.48, 46.17,
    86.64, 36.51, 10.36, 6.29, 95.81, 43.15, 87.12, 53.26, 92.42, 38.24, 83.79,
    57.63, 69.63, 13.53, 81.03, 11.28, 33.14, 58.9, 51.69, 62.09, 55.56, 13.74,
    5.3, 27.77, 17.7, 4.18, 95.05, 61.94, 67.95, 32.62, 30.58, 61.14, 90.7,
    21.72, 32.81, 82.3, 25.19, 66.16, 1.19, 86.77, 17.44, 12.46, 29.65, 39.25,
    19.49, 69.81, 50.28, 67.89, 72.62, 52.56, 82.77, 34.93, 24.21, 69.4, 33.41,
    76.95, 31.49, 3.08, 68.04, 47.79, 99.77, 70, 88.35, 38.12, 87.28, 9.26,
    50.34, 51.29, 84.8, 27.37, 23.58, 86.69, 43.77, 16.43, 88.26, 19.21, 83.67,
    71.29, 7, 66.05, 56.85,
];

for (const i in _pPrices) {
    const obj = {
        id: i,
        price: _pPrices[i],
    };
    productsArr.push(obj);
}

async function fetch(min, max) {
    let products = productsArr
        .filter((x) => x.price > min && x.price < max)
        .slice(0, 20);
    return {
        total: productsArr.length,
        count: products.length,
        products: products,
    };
}
